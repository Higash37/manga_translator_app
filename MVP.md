# 📘 多言語吹き出し翻訳マンガアプリ MVP 仕様書（Flutter 版 v0.1）

## ✅ 1. アプリ概要

本アプリは、「ジャンプ+（ジャンプラ）」のような UI でマンガを表示し、各吹き出しのセリフを**言語切り替えボタンで翻訳表示**できるようにする。
MVP 段階では 1 ページに複数の吹き出しを表示し、それぞれのテキストを切り替えて表示する機能を持つ。

---

## ✅ 2. 主な機能（MVP）

| 機能名                 | 内容                                                   |
| ---------------------- | ------------------------------------------------------ |
| マンガ画像表示         | 背景に透明化されたマンガ画像を 1 ページ単位で表示      |
| 吹き出しテキスト描画   | 各吹き出しの座標・サイズ・言語別テキストを JSON で管理 |
| 言語切替機能           | 日本語・中国語・英語などをトグルで切り替え             |
| UI 構成                | ジャンプ+風のページビュー（縦 or 横スクロール）        |
| JSON 読み込み          | 吹き出し情報を外部ファイルから読み込み表示             |
| スタイル調整（最低限） | フォントサイズ・色・縦横書きの調整は今後対応予定       |

---

## ✅ 3. データ構造（JSON）

例：`assets/bubbles/page001.json`

```json
{
  "image": "assets/pages/page001.png",
  "bubbles": [
    {
      "x": 120,
      "y": 340,
      "width": 250,
      "height": 80,
      "text": {
        "ja": "腹減ったメシだメシ！",
        "zh": "肚子饿了，开饭吧！",
        "en": "I'm starving! Time to eat!"
      }
    }
  ]
}
```

---

## ✅ 4. フォルダ構成（Flutter プロジェクト）

```plaintext
lib/
├── main.dart                    # アプリ起動とルーティング
├── screens/
│   └── reader_screen.dart       # ジャンプラ風のマンガビューアー画面
├── models/
│   └── bubble_model.dart        # 吹き出しデータモデル
├── services/
│   └── bubble_loader.dart       # JSON読み込みロジック
assets/
├── pages/
│   └── page001.png              # 背景マンガ画像（透明化済み）
├── bubbles/
│   └── page001.json             # 吹き出しと翻訳データ
```

---

## ✅ 5. 使用予定 Flutter パッケージ（最低限）

| 機能           | パッケージ名                                   |
| -------------- | ---------------------------------------------- |
| JSON 読み込み  | `dart:convert`, `flutter/services.dart`        |
| Stack 重ね表示 | `Stack`, `Positioned`, `Image.asset`, `Text`   |
| 状態管理       | `StatefulWidget`（MVP では Provider は未使用） |

---

## ✅ 6. 今後の拡張案（ステップ 2 以降）

| 機能            | 説明                                         |
| --------------- | -------------------------------------------- |
| 吹き出し編集 UI | ドラッグ＆リサイズ可能なテキストボックス UI  |
| 翻訳入力支援    | OpenAI や DeepL との連携で自動翻訳補助       |
| ページ追加管理  | 複数ページ構成・横スワイプでのページ切替     |
| PNG 出力        | 編集済みマンガを画像として保存・シェア可能   |
| ユーザー投稿    | ユーザーがマンガと翻訳を投稿・共有できる機能 |

---text

## ✅ 7. MVP 開発ステップまとめ

| ステップ      | 内容                                                 |
| ------------- | ---------------------------------------------------- |
| ✅ ステップ 0 | Flutter 環境セットアップ・プロジェクト作成（済）     |
| ⏳ ステップ 1 | `main.dart` + `reader_screen.dart` で 1 枚ページ表示 |
| ⏳ ステップ 2 | JSON 読み込みによる吹き出し描画の自動化              |
| ⏳ ステップ 3 | 言語切替によるテキスト表示変更                       |
| ⏳ ステップ 4 | 複数吹き出し対応・保存テスト                         |

|

## ✅ 開発ゴール（MVP として）

- 1 ページマンガ画像
- 吹き出し内のセリフが JSON から読み込まれ表示
- トグルボタンで言語が即座に切り替わる
- 将来の拡張がしやすい構成になっている
